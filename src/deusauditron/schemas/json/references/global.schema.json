{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "GlobalConfig",
  "type": "object",
  "properties": {
    "prompt": {
      "type": "string"
    },
    "supports_vision": {
      "type": "boolean",
      "default": false
    },
    "metadata": {
      "type": "array",
      "items": {
        "anyOf": [
          { "type": "string" },
          { "$ref": "data_entry.schema.json" }
        ]
      }
    },
    "data": {
      "type": "object",
      "properties": {
        "static": {
          "anyOf": [
            {
              "type": "object",
              "additionalProperties": true
            },
            {
              "type": "array",
              "items": {
                "$ref": "data_entry.schema.json"
              }
            }
          ]
        },
        "dynamic": {
          "type": "object",
          "additionalProperties": {
            "$ref": "data_source.schema.json"
          }
        }
      },
      "anyOf": [
        { "required": ["static"] },
        { "required": ["dynamic"] }
      ]
    },
    "vocabulary_replacement": {
      "$ref": "data_source.schema.json"
    },
    "intent_detection": {
      "$ref": "intent_detection.schema.json"
    },
    "transcriber": {
      "$ref": "transcriber.schema.json"
    },
    "code_nodes": {
      "type": "array",
      "items": {
        "$ref": "global_code_node.schema.json"
      }
    },
    "llm_nodes": {
      "type": "array",
      "items": {
        "$ref": "global_llm_node_for_conversation.schema.json"
      }
    },
    "evaluation_rules": {
      "type": "array",
      "items": {
        "$ref": "eval_rule.schema.json"
      }
    }
  }
}
