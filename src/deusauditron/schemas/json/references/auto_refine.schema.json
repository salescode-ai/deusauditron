{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "AutoRefine",
  "type": "object",
  "properties": {
    "node_recommendations": {
      "type": "array",
      "description": "Array of node-specific recommendations",
      "items": {
        "type": "object",
        "properties": {
          "node": {
            "type": "string",
            "description": "Node identifier"
          },
          "prompt": {
            "type": "string",
            "description": "Recommended prompt for the node"
          }
        },
        "required": ["node", "prompt"],
        "additionalProperties": false
      },
      "default": []
    },
    "global_recommendations": {
      "type": "string",
      "description": "Global recommendations for the entire flow",
      "default": ""
    },
    "intent_recommendations": {
      "type": "array",
      "description": "Array of node-specific intent recommendations",
      "items": {
        "type": "object",
        "properties": {
          "node": {
            "type": "string",
            "description": "Node identifier"
          },
          "intent_instructions": {
            "type": "object",
            "description": "Dictionary mapping intent names to instructions",
            "additionalProperties": {
              "type": "string",
              "description": "instruction for intent"
            }
          }
        },
        "required": ["node", "intent_instructions"],
        "additionalProperties": false
      },
      "default": []
    }
  },
  "additionalProperties": false
}