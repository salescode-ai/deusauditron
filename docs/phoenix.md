# Phoenix Integration Documentation

## Overview

Deusauditron integrates with [Arize Phoenix](https://arize.com/phoenix/) to provide comprehensive observability and evaluation capabilities for conversational AI agents. Phoenix is an open-source LLM observability platform that enables monitoring, debugging, and evaluation of LLM applications.

This integration allows Deusauditron to:

- Store and retrieve evaluation datasets
- Track experiments and their results
- Monitor agent performance over time
- Provide detailed analytics on conversation flows

## Architecture

The Phoenix integration consists of two main components:

### 1. Phoenix Router (`src/deusauditron/routers/phoenix.py`)

FastAPI router that exposes Phoenix functionality through REST endpoints:

- **Dataset Management**: Create, read, and modify evaluation datasets
- **Experiment Tracking**: Retrieve and analyze experiment results
- **Data Export**: Access evaluation data for analysis

### 2. Phoenix Helper (`src/deusauditron/util/phoenix_helper.py`)

Utility classes and functions that provide:

- **PhoenixClient**: HTTP client wrapper for Phoenix API calls
- **Dataset Helpers**: Functions for filtering and processing datasets
- **URL Generation**: Helper methods for constructing Phoenix API endpoints

## Configuration

### Environment Variables

The Phoenix integration requires the following environment variables:

```bash
PHOENIX_COLLECTOR_ENDPOINT=https://your-phoenix-instance.com
PHOENIX_API_KEY=your-phoenix-api-key
```

## API Endpoints

### Dataset Management

#### GET `/phoenix/datasets`

Retrieve all available datasets with optional filtering.

**Query Parameters:**

- `filter` (string, optional): Filter datasets by name prefix

**Request URL**

`http://localhost:8081/api/v1/phoenix/datasets?filter=kbpldemo/csv/`

**Response:**

```json
{
  "success": true,
  "datasets": [
    {
      "id": "RGF0YXNldDoyMg==",
      "name": "kbpldemo/csv/testing",
      "description": "SCAI Testing Dataset - 21 August.csv",
      "metadata": {},
      "created_at": "2025-10-06T08:48:13.129389+00:00",
      "updated_at": "2025-10-06T13:34:46.886798+00:00",
      "example_count": 5
    }
  ]
}
```

#### GET `/phoenix/datasets/{dataset_id}/rows`

Retrieve all rows (examples) from a specific dataset.

**Path Parameters:**

- `dataset_id` (string): The unique identifier of the dataset

**Response:**

```json
{
  "success": true,
  "rows": [
    {
      "id": "RGF0YXNldEV4YW1wbGU6MTUx",
      "input": {
        "Input": "{\n  \"messages\": [\n    {\n      \"content\": \"हेलो sir!\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412230.701072\"\n      }\n    },\n    {\n      \"content\": \"हेलो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412233.774693\"\n      }\n    },\n    {\n      \"content\": \"नमस्ते! Sir मैं वंशिका, कोका-कोला की सेल्स रिप्रेजेंटेटिव बोल रही हूँ। uh- क्या यह Mahavir Kirana Store का नंबर है?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412233.774693\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हा महावीर केराना स्टोर का नंबर?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412244.133939\"\n      }\n    },\n    {\n      \"content\": \"जी, uh- हमारे सेल्समैन मनोज जी आज नहीं आ पाएंगे, तो उनकी जगह मैं कॉल पर आपका order लेने आई हूँ। um- कॉल पर order देने पर आपको  fifty  रुपये की discount भी मिलेगी! क्या आप order देना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412244.133939\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हाँ मेरे को One mixed फस चाहिए आपके पास क्या क्या प्रोडक्ट अवेलेबल है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412261.363918\"\n      }\n    },\n    {\n      \"content\": \"हमारे पास mixed fruit  one hundred and fifty  ml और  two hundred  ml दोनों available हैं।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412261.363918\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा माजा में चाहिए मुझे कुछ?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412274.441386\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one hundred and fifty  ml,  two hundred  ml,  two hundred and fifty  ml,  three hundred  ml,  six hundred  ml,  one point two  L,  one point seven five  L sab available hain.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412274.441386\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ये one Point ट्वेल्व का प्राइस क्या है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412290.796869\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one point two  liter ka price  six hundred and seventy-five  rupees per case hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412290.796869\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"कितना था?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412305.968657\"\n      }\n    },\n    {\n      \"content\": \"six hundred and seventy-five rupees per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412305.968657\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और One Case के अंदर कितने बॉटल्स होंगी?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412313.627701\"\n      }\n    },\n    {\n      \"content\": \"ten bottles per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412313.627701\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ढो मुझे इसकी फाइव बॉटल्स चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412321.575228\"\n      }\n    },\n    {\n      \"content\": \"ठीक है, Maaza  one point two  L की  five  bottles noted. क्या आप कुछ और add करना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412321.575228\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा।ढो इसका प्राइस क्या होगा One बार मेरे को प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412331.289668\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one point two  L की एक bottle का price  sixty-seven point five  रुपये है, तो  five  bottles के  three hundred and thirty-seven point five  रुपये होंगे।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412331.289668\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ठीक है अच्छा मुझे ना,उसमें भी चप्लाइड में भी कुछ चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412354.983121\"\n      }\n    },\n    {\n      \"content\": \"Sprite one liter, one hundred and eighty ml, two liters, two hundred ml, two hundred and fifty ml, three hundred ml, three hundred and thirty ml, three hundred and fifty ml, seven hundred and fifty ml sab available hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412354.983121\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ओके।ढो मुझे इस फ्लाइट सेवेन हंड्रेड फिफ्टी ML का प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412374.235038\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred and fifty ml ka price five hundred and fifty-seven point zero four rupees per case hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412374.235038\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और One Case के अंदर कितनी बॉटल्स है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412386.200947\"\n      }\n    },\n    {\n      \"content\": \"twenty-four bottles per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412386.200947\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ढो मेरे वो सेवेंटीन बॉटल्स चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412396.212545\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred fifty ml की seventeen bottles noted.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412396.212545\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ये ढो मेरे को One बार जरा प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412405.278384\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred fifty ml की एक bottle का price twenty-three point two one rupees hai, seventeen bottles के three hundred ninety-four point five seven rupees honge.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412405.278384\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और टोटल वाइस कितना होगा मेरा तक का?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412422.218053\"\n      }\n    },\n    {\n      \"content\": \"जी, मुझे सब कुछ calculate करने में थोड़ा time लगेगा। सारी details आपको मैं WhatsApp पे मिल जाएगा।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412422.218053\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"नहीं नहीं मुझे यहीं पे जानी है।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412430.643502\"\n      }\n    },\n    {\n      \"content\": \"Total: Maaza  one point two  L  five  bottles + Sprite  seven hundred and fifty  ml  seventeen  bottles = ₹ seven hundred and thirty-one point five seven \",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412430.643502\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अ कितना बताया आपने टोटल?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412457.292851\"\n      }\n    },\n    {\n      \"content\": \"₹ seven hundred and thirty-one point five seven\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412457.292851\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और ऑर्डर में क्या क्या था मेरा?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412467.878081\"\n      }\n    },\n    {\n      \"content\": \"Maaza one point two L की five bottles aur Sprite seven hundred and fifty ml की seventeen bottles.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412467.878081\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ओके और टोटल प्राइस क्या बताया आपने?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412478.866400\"\n      }\n    },\n    {\n      \"content\": \"₹ seven hundred and thirty-one point five seven\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412478.866400\",\n        \"node\": \"pricing\"\n      }\n    }\n  ],\n  \"agent_info\": {\n    \"tenant\": \"kbpldemo\",\n    \"agent_name\": \"csv\",\n    \"run_id\": \"RM_eugHoW5e3hAS\",\n    \"last_node\": \"pricing\"\n  }\n}"
      },
      "output": {
        "Output": "₹ seven hundred and thirty-two point zero seven"
      },
      "metadata": {
        "Meta Data": "{\n  \"response\": \"₹ seven hundred and thirty-one point five seven\",\n  \"scenario\": \"Bad\",\n  \"name\": \"Wrong_Pricing\",\n  \"catalogs\": {\n    \"precall_catalogue\": {\n      \"file\": \"Precall-Catalogue-1.csv\",\n      \"data\": [\n        {\n          \"product\": \"coke 1 liter\",\n          \"mrp\": 50.0,\n          \"price per case\": 660.03,\n          \"price per piece\": 44.0,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of coke 1 liter and get 1 bottle of coke 750 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke 180 ml\",\n          \"mrp\": 25.0,\n          \"price per case\": 720.22,\n          \"price per piece\": 20.01,\n          \"case to piece quantity\": 36.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of coke 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"price per piece\": 17.5,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of coke 250 ml and get 2 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke 300 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 700.22,\n          \"price per piece\": 29.18,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke 750 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 779.86,\n          \"price per piece\": 32.49,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of coke 750 ml and get 4 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"coke zero 500 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 400.18,\n          \"price per piece\": 16.67,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"dasani water 1 liter\",\n          \"mrp\": 20.0,\n          \"price per case\": 125.03,\n          \"price per piece\": 10.42,\n          \"case to piece quantity\": 12.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"dasani water 2 liters\",\n          \"mrp\": 30.0,\n          \"price per case\": 190.2,\n          \"price per piece\": 21.13,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of dasani water 2 liters and get 6 bottles of dasani water 500 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"dasani water 500 ml\",\n          \"mrp\": 10.0,\n          \"price per case\": 170.2,\n          \"price per piece\": 7.09,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 1 liter\",\n          \"mrp\": 50.0,\n          \"price per case\": 660.03,\n          \"price per piece\": 44.0,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of fanta 1 liter and get 1 bottle of coke 750 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of fanta 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of fanta 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"price per piece\": 17.5,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of fanta 250 ml and get 2 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 300 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 700.22,\n          \"price per piece\": 29.18,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"fanta 750 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 779.86,\n          \"price per piece\": 32.49,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of fanta 750 ml and get 4 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"kinley soda 750 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 290.28,\n          \"price per piece\": 12.1,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"limca 1 liter\",\n          \"mrp\": 50.0,\n          \"price per case\": 660.03,\n          \"price per piece\": 44.0,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of limca 1 liter and get 1 bottle of coke 750 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"limca 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of limca 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"limca 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"price per piece\": 17.5,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of limca 250 ml and get 2 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"limca 300 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 700.22,\n          \"price per piece\": 29.18,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"limca 750 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 779.86,\n          \"price per piece\": 32.49,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of limca 750 ml and get 4 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"maaza 125 ml\",\n          \"mrp\": 10.0,\n          \"price per case\": 300.16,\n          \"price per piece\": 7.5,\n          \"case to piece quantity\": 40.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"maaza 125 ml\",\n          \"mrp\": 10.0,\n          \"price per case\": 79.03,\n          \"price per piece\": 9.88,\n          \"case to piece quantity\": 8.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"maaza 200 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 520.13,\n          \"price per piece\": 17.34,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of maaza 200 ml and get 1 bottle of maaza 200 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"maaza 600 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 780.06,\n          \"price per piece\": 32.5,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of maaza 600 ml and get 1 bottle of maaza 600 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"maaza 850 ml\",\n          \"mrp\": 50.0,\n          \"price per case\": 649.99,\n          \"price per piece\": 43.33,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of maaza 850 ml and get 1 bottle of maaza 200 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"minute maid pulpy orange 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 520.13,\n          \"price per piece\": 17.34,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"mix fruit 200 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 520.13,\n          \"price per piece\": 17.34,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"monster 350 ml\",\n          \"mrp\": 125.0,\n          \"price per case\": 1719.98,\n          \"price per piece\": 71.67,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 1 liter\",\n          \"mrp\": 50.0,\n          \"price per case\": 660.03,\n          \"price per piece\": 44.0,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of sprite 1 liter and get 1 bottle of coke 750 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of sprite 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of sprite 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"price per piece\": 17.5,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of sprite 250 ml and get 2 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 500 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 400.18,\n          \"price per piece\": 16.67,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"sprite 750 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 779.86,\n          \"price per piece\": 32.49,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of sprite 750 ml and get 4 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up\",\n          \"mrp\": 20.0,\n          \"price per case\": 400.18,\n          \"price per piece\": 16.67,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up 1 liter\",\n          \"mrp\": 50.0,\n          \"price per case\": 660.03,\n          \"price per piece\": 44.0,\n          \"case to piece quantity\": 15.0,\n          \"schemes\": [\n            \"Buy 1 case of thums up 1 liter and get 1 bottle of coke 750 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of thums up 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"price per piece\": 83.34,\n          \"case to piece quantity\": 9.0,\n          \"schemes\": [\n            \"Buy 1 case of thums up 2 liters and get 9 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"price per piece\": 17.5,\n          \"case to piece quantity\": 30.0,\n          \"schemes\": [\n            \"Buy 1 case of thums up 250 ml and get 2 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"thums up 750 ml\",\n          \"mrp\": 40.0,\n          \"price per case\": 779.86,\n          \"price per piece\": 32.49,\n          \"case to piece quantity\": 24.0,\n          \"schemes\": [\n            \"Buy 1 case of thums up 750 ml and get 4 bottles of coke 250 ml\"\n          ],\n          \"stock\": \"\"\n        },\n        {\n          \"product\": \"Coca Cola\",\n          \"mrp\": null,\n          \"price per case\": null,\n          \"price per piece\": null,\n          \"case to piece quantity\": null,\n          \"schemes\": [],\n          \"stock\": \"not in stock\"\n        }\n      ]\n    },\n    \"post_call_catalogue\": {\n      \"file\": \"Post-Call-Catalogue.csv\",\n      \"data\": [\n        {\n          \"product\": \"dasani water 500 ml\",\n          \"skuCode\": \"000000000000100632-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"thums up 750 ml\",\n          \"skuCode\": \"000000000000103074-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"sprite 500 ml\",\n          \"skuCode\": \"SPZ0030500-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 180 ml\",\n          \"skuCode\": \"000000000000102938-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 36.0\n        },\n        {\n          \"product\": \"maaza 200 ml\",\n          \"skuCode\": \"000000000000105138-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"fanta 1 liter\",\n          \"skuCode\": \"000000000000105009-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"sprite 2 liters\",\n          \"skuCode\": \"000000000000105169-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"limca 250 ml\",\n          \"skuCode\": \"000000000000103566-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"maaza 125 ml\",\n          \"skuCode\": \"000000000000105115-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 40.0\n        },\n        {\n          \"product\": \"thums up 250 ml\",\n          \"skuCode\": \"000000000000102734-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"limca 750 ml\",\n          \"skuCode\": \"000000000000103075-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"fanta 250 ml\",\n          \"skuCode\": \"000000000000103567-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"sprite 1 liter\",\n          \"skuCode\": \"000000000000105011-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"coke zero 500 ml\",\n          \"skuCode\": \"000000000000105146-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 250 ml\",\n          \"skuCode\": \"000000000000101872-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"monster 350 ml\",\n          \"skuCode\": \"000000000000105117-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 750 ml\",\n          \"skuCode\": \"000000000000103077-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 2 liters\",\n          \"skuCode\": \"000000000000105166-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"mix fruit 200 ml\",\n          \"skuCode\": \"000000000000105185-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"fanta 300 ml\",\n          \"skuCode\": \"000000000000105025-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 300 ml\",\n          \"skuCode\": \"000000000000105030-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"sprite 750 ml\",\n          \"skuCode\": \"000000000000103076-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"limca 2 liters\",\n          \"skuCode\": \"000000000000105168-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"fanta 2 liters\",\n          \"skuCode\": \"000000000000105167-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"fanta 2 liters\",\n          \"skuCode\": \"000000000000105180-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"thums up\",\n          \"skuCode\": \"TUX0050500-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"thums up 2 liters\",\n          \"skuCode\": \"000000000000105183-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"dasani water 1 liter\",\n          \"skuCode\": \"000000000000105015-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 12.0\n        },\n        {\n          \"product\": \"maaza 125 ml\",\n          \"skuCode\": \"MZRE290127-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 8.0\n        },\n        {\n          \"product\": \"sprite 250 ml\",\n          \"skuCode\": \"000000000000102738-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"sprite 2 liters\",\n          \"skuCode\": \"000000000000105182-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"limca 300 ml\",\n          \"skuCode\": \"000000000000105029-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"coke 1 liter\",\n          \"skuCode\": \"000000000000105007-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"fanta 750 ml\",\n          \"skuCode\": \"000000000000103069-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"maaza 850 ml\",\n          \"skuCode\": \"000000000000105174-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"dasani water 2 liters\",\n          \"skuCode\": \"000000000000105021-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        },\n        {\n          \"product\": \"minute maid pulpy orange 250 ml\",\n          \"skuCode\": \"000000000000105178-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 30.0\n        },\n        {\n          \"product\": \"kinley soda 750 ml\",\n          \"skuCode\": \"000000000000100503-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"limca 1 liter\",\n          \"skuCode\": \"000000000000105010-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"maaza 600 ml\",\n          \"skuCode\": \"000000000000100344-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 24.0\n        },\n        {\n          \"product\": \"thums up 1 liter\",\n          \"skuCode\": \"000000000000105012-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 15.0\n        },\n        {\n          \"product\": \"thums up 2 liters\",\n          \"skuCode\": \"000000000000105170-ENRICH\",\n          \"supplier\": \"DSB0039-ENRICH\",\n          \"caseToPieceQuantity\": 9.0\n        }\n      ]\n    },\n    \"crossell_recommendation\": {\n      \"file\": \"Crossell-Recommendation.csv\",\n      \"data\": [\n        {\n          \"product\": \"maaza 200 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 520.13,\n          \"case to piece quantity\": 30.0,\n          \"suggested case quantity\": 1.0\n        },\n        {\n          \"product\": \"thums up\",\n          \"mrp\": 20.0,\n          \"price per case\": 400.18,\n          \"case to piece quantity\": 24.0,\n          \"suggested case quantity\": 1.0\n        },\n        {\n          \"product\": \"thums up 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"case to piece quantity\": 9.0,\n          \"suggested case quantity\": 1.0\n        },\n        {\n          \"product\": \"sprite 250 ml\",\n          \"mrp\": 20.0,\n          \"price per case\": 525.0,\n          \"case to piece quantity\": 30.0,\n          \"suggested case quantity\": 1.0\n        },\n        {\n          \"product\": \"limca 2 liters\",\n          \"mrp\": 99.0,\n          \"price per case\": 750.08,\n          \"case to piece quantity\": 9.0,\n          \"suggested case quantity\": 1.0\n        }\n      ]\n    }\n  }\n}"
      },
      "updated_at": "2025-10-06T09:27:38.322079+00:00"
    }
  ]
}
```

#### POST `/phoenix/datasets/{dataset_id}/rows/append`

Add new rows to an existing dataset.

**Path Parameters:**

- `dataset_id` (string): The unique identifier of the dataset

**Request Body:**

```json
{
  "inputs": [
    "{\n    \"messages\": [\n        {\n            \"content\": \"हेलो sir!\",\n            \"role\": \"assistant\",\n            \"metadata\": {\n                \"timestamp\": \"1755414399.422594\"\n            }\n        },\n        {\n            \"content\": \"हेलो?\",\n            \"role\": \"user\",\n            \"metadata\": {\n                \"timestamp\": \"1755414404.322951\"\n            }\n        },\n        {\n            \"content\": \"नमस्ते! Sir मैं वंशिका, कोका-कोला की सेल्स रिप्रेजेंटेटिव बोल रही हूँ।\",\n            \"role\": \"assistant\",\n            \"metadata\": {\n                \"timestamp\": \"1755414404.322951\",\n                \"node\": \"introduction\"\n            }\n        }\n    ]\n}"
  ],
  "outputs": ["This is the expected output for this scenario"],
  "metadata": [
    "{\n    \"catalogs\": {\n        \"precall_catalogue\": {\n            \"file\": \"Precall-Catalogue-1.csv\",\n            \"data\": [\n                {\n                    \"product\": \"coke 1 liter\",\n                    \"mrp\": 50.0,\n                    \"price per case\": 660.03,\n                    \"price per piece\": 44.0,\n                    \"case to piece quantity\": 15.0,\n                    \"schemes\": [\n                        \"Buy 1 case of coke 1 liter and get 1 bottle of coke 750 ml\"\n                    ],\n                    \"stock\": \"\"\n                }\n            ]\n        },\n        \"post_call_catalogue\": {\n            \"file\": \"Post-Call-Catalogue.csv\",\n            \"data\": [\n                {\n                    \"product\": \"dasani water 500 ml\",\n                    \"skuCode\": \"000000000000100632-ENRICH\",\n                    \"supplier\": \"DSB0039-ENRICH\",\n                    \"caseToPieceQuantity\": 24.0\n                }\n            ]\n        }\n    }\n}"
  ]
}
```

**Response:**

```json
{
  "success": true,
  "message": "Dataset rows appended successfully"
}
```

### Experiment Management

#### GET `/phoenix/experiments`

Retrieve all experiments with optional filtering by agent name.

**Query Parameters:**

- `filter` (string, optional): Filter experiments by agent name

**Request URL**

`http://localhost:8081/api/v1/phoenix/experiments?filter=kbpldemo/csv/`

**Response:**

```json
{
  "success": true,
  "experiments": [
    {
      "id": "string",
      "dataset_id": "string",
      "dataset_version_id": "string",
      "repetitions": 0,
      "metadata": {
        "agent_name": "",
        "experiment_name": ""
      },
      "project_name": "string",
      "created_at": "2025-10-07T12:33:51.889Z",
      "updated_at": "2025-10-07T12:33:51.889Z"
    }
  ]
}
```

#### GET `/phoenix/experiments/{experiment_id}`

Retrieve detailed information about a specific experiment.

**Path Parameters:**

- `experiment_id` (string): The unique identifier of the experiment

**Response:**

```json
{
  "success": true,
  "experiment": [
    {
      "example_id": "RGF0YXNldEV4YW1wbGU6MTUx",
      "repetition_number": 1,
      "input": {
        "Input": "{\n  \"messages\": [\n    {\n      \"content\": \"हेलो sir!\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412230.701072\"\n      }\n    },\n    {\n      \"content\": \"हेलो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412233.774693\"\n      }\n    },\n    {\n      \"content\": \"नमस्ते! Sir मैं वंशिका, कोका-कोला की सेल्स रिप्रेजेंटेटिव बोल रही हूँ। uh- क्या यह Mahavir Kirana Store का नंबर है?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412233.774693\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हा महावीर केराना स्टोर का नंबर?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412244.133939\"\n      }\n    },\n    {\n      \"content\": \"जी, uh- हमारे सेल्समैन मनोज जी आज नहीं आ पाएंगे, तो उनकी जगह मैं कॉल पर आपका order लेने आई हूँ। um- कॉल पर order देने पर आपको  fifty  रुपये की discount भी मिलेगी! क्या आप order देना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412244.133939\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हाँ मेरे को One mixed फस चाहिए आपके पास क्या क्या प्रोडक्ट अवेलेबल है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412261.363918\"\n      }\n    },\n    {\n      \"content\": \"हमारे पास mixed fruit  one hundred and fifty  ml और  two hundred  ml दोनों available हैं।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412261.363918\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा माजा में चाहिए मुझे कुछ?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412274.441386\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one hundred and fifty  ml,  two hundred  ml,  two hundred and fifty  ml,  three hundred  ml,  six hundred  ml,  one point two  L,  one point seven five  L sab available hain.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412274.441386\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ये one Point ट्वेल्व का प्राइस क्या है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412290.796869\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one point two  liter ka price  six hundred and seventy-five  rupees per case hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412290.796869\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"कितना था?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412305.968657\"\n      }\n    },\n    {\n      \"content\": \"six hundred and seventy-five rupees per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412305.968657\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और One Case के अंदर कितने बॉटल्स होंगी?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412313.627701\"\n      }\n    },\n    {\n      \"content\": \"ten bottles per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412313.627701\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ढो मुझे इसकी फाइव बॉटल्स चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412321.575228\"\n      }\n    },\n    {\n      \"content\": \"ठीक है, Maaza  one point two  L की  five  bottles noted. क्या आप कुछ और add करना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412321.575228\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा।ढो इसका प्राइस क्या होगा One बार मेरे को प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412331.289668\"\n      }\n    },\n    {\n      \"content\": \"Maaza  one point two  L की एक bottle का price  sixty-seven point five  रुपये है, तो  five  bottles के  three hundred and thirty-seven point five  रुपये होंगे।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412331.289668\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ठीक है अच्छा मुझे ना,उसमें भी चप्लाइड में भी कुछ चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412354.983121\"\n      }\n    },\n    {\n      \"content\": \"Sprite one liter, one hundred and eighty ml, two liters, two hundred ml, two hundred and fifty ml, three hundred ml, three hundred and thirty ml, three hundred and fifty ml, seven hundred and fifty ml sab available hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412354.983121\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ओके।ढो मुझे इस फ्लाइट सेवेन हंड्रेड फिफ्टी ML का प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412374.235038\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred and fifty ml ka price five hundred and fifty-seven point zero four rupees per case hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412374.235038\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और One Case के अंदर कितनी बॉटल्स है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412386.200947\"\n      }\n    },\n    {\n      \"content\": \"twenty-four bottles per case.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412386.200947\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ढो मेरे वो सेवेंटीन बॉटल्स चाहिए।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412396.212545\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred fifty ml की seventeen bottles noted.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412396.212545\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ये ढो मेरे को One बार जरा प्राइस बता दो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412405.278384\"\n      }\n    },\n    {\n      \"content\": \"Sprite seven hundred fifty ml की एक bottle का price twenty-three point two one rupees hai, seventeen bottles के three hundred ninety-four point five seven rupees honge.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412405.278384\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और टोटल वाइस कितना होगा मेरा तक का?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412422.218053\"\n      }\n    },\n    {\n      \"content\": \"जी, मुझे सब कुछ calculate करने में थोड़ा time लगेगा। सारी details आपको मैं WhatsApp पे मिल जाएगा।\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412422.218053\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"नहीं नहीं मुझे यहीं पे जानी है।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412430.643502\"\n      }\n    },\n    {\n      \"content\": \"Total: Maaza  one point two  L  five  bottles + Sprite  seven hundred and fifty  ml  seventeen  bottles = ₹ seven hundred and thirty-one point five seven \",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412430.643502\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अ कितना बताया आपने टोटल?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412457.292851\"\n      }\n    },\n    {\n      \"content\": \"₹ seven hundred and thirty-one point five seven\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412457.292851\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और ऑर्डर में क्या क्या था मेरा?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412467.878081\"\n      }\n    },\n    {\n      \"content\": \"Maaza one point two L की five bottles aur Sprite seven hundred and fifty ml की seventeen bottles.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412467.878081\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ओके और टोटल प्राइस क्या बताया आपने?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412478.866400\"\n      }\n    },\n    {\n      \"content\": \"₹ seven hundred and thirty-one point five seven\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412478.866400\",\n        \"node\": \"pricing\"\n      }\n    }\n  ],\n  \"agent_info\": {\n    \"tenant\": \"kbpldemo\",\n    \"agent_name\": \"csv\",\n    \"run_id\": \"RM_eugHoW5e3hAS\",\n    \"last_node\": \"pricing\"\n  }\n}"
      },
      "reference_output": {
        "Output": "₹ seven hundred and thirty-two point zero seven"
      },
      "output": "₹ seven hundred and thirty-one point five seven",
      "error": null,
      "latency_ms": 1730.778,
      "start_time": "2025-10-06T10:06:25.414665+00:00",
      "end_time": "2025-10-06T10:06:27.145443+00:00",
      "trace_id": "f2691d408885368b4308d6fc898a1605",
      "prompt_token_count": null,
      "completion_token_count": null,
      "annotations": [
        {
          "name": "scenario_evaluator",
          "annotator_kind": "CODE",
          "label": "FAIL",
          "score": 0.0,
          "explanation": "The final output '₹ seven hundred and thirty-one point five seven' does not match the expected output '₹ seven hundred and thirty-two point zero seven'. The numerical values are different, with the final output being ₹731.57 and the expected output being ₹732.07. This discrepancy indicates a factual inaccuracy, as the numbers are not equivalent. Therefore, the final output fails to fulfill the content accuracy and factual consistency criteria.",
          "trace_id": "76b0d14caff03dbc2ae1f95ec177442d",
          "error": null,
          "metadata": {},
          "start_time": "2025-10-06T10:06:28.855002+00:00",
          "end_time": "2025-10-06T10:06:29.207803+00:00"
        }
      ]
    },
    {
      "example_id": "RGF0YXNldEV4YW1wbGU6MTUy",
      "repetition_number": 1,
      "input": {
        "Input": "{\n  \"messages\": [\n    {\n      \"content\": \"हेलो sir!\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412852.757145\"\n      }\n    },\n    {\n      \"content\": \"हेलो?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412858.396780\"\n      }\n    },\n    {\n      \"content\": \"नमस्ते! Sir मैं वंशिका, कोका-कोला की सेल्स रिप्रेजेंटेटिव बोल रही हूँ। क्या यह Mahavir Kirana Store का नंबर है?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412858.396780\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हाँ ये महावीर किराना स्टोर का नंबर है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412869.727211\"\n      }\n    },\n    {\n      \"content\": \"हमारे सेल्समैन मनोज जी आज नहीं आ पाएंगे, uh- तो उनकी जगह मैं कॉल पर आपका order लेने आई हूँ। कॉल पर order देने पर आपको  fifty  रुपये की discount भी मिलेगी! um- क्या आप order देना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412869.727211\",\n        \"node\": \"introduction\"\n      }\n    },\n    {\n      \"content\": \"हाँ मुझे ऑर्डर देना है।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412885.028914\"\n      }\n    },\n    {\n      \"content\": \"बताइए, क्या order करना चाहेंगे?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412885.028914\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा मुझे सेंटर में ऑर्डर देना है पर पहले मुझे ये बताओ आपके पास Fanta है मिनिमम क्वांटिटी क्या अवेलेबल है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412896.302795\"\n      }\n    },\n    {\n      \"content\": \"Fanta  one hundred and eighty  ml,  two hundred  ml,  two hundred and fifty  ml,  three hundred  ml,  one  liter,  two  liters,  seven hundred and fifty  ml sabhi sizes available hain. Aap kitne chahiye?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412896.302795\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"मुझे सिर्फ मैक्सिमम और मिनिमम क्वांटिटी जाननी है।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412912.381845\"\n      }\n    },\n    {\n      \"content\": \"Minimum  ten  pieces aur maximum  thirty-six  pieces available hai Fanta mein.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412912.381845\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"मिनिमम क्वांटिटी इन ML\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412926.092436\"\n      }\n    },\n    {\n      \"content\": \"jee check kar leti hu, uh-Minimum  one hundred and eighty  ml hai Fanta ka.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412926.092436\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"और मैक्सिमम?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412934.339303\"\n      }\n    },\n    {\n      \"content\": \"check kar leti hu sir, uh-Maximum two liters ka bottle hai Fanta ka.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412934.339303\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा इसके पंद्रह Case कन्फर्म कर दूँ।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412943.548417\"\n      }\n    },\n    {\n      \"content\": \"Fifteen cases Fanta  one hundred and eighty  ml confirm kar diya. Kuch aur add karna hai?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412943.548417\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"ऐसे काम करो पंद्रह रहने दो सत्रह Case कर दो।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412953.376385\"\n      }\n    },\n    {\n      \"content\": \"Seventeen cases Fanta  one hundred and eighty  ml confirm kar diya. Kuch aur add karna hai?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412953.376385\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"अच्छा limca में आपके पास मैक्सिमम कितनी क्वांटिटी अवेलेबल है?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412971.393786\"\n      }\n    },\n    {\n      \"content\": \"Limca mein maximum two liters ka bottle hai, aur case mein ten pieces aate hain.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412971.393786\",\n        \"node\": \"place_order\"\n      }\n    },\n    {\n      \"content\": \"और इसका प्राइस क्या होगा?\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412980.093902\"\n      }\n    },\n    {\n      \"content\": \"Limca two liters ka case  eight hundred and fifty-five  रुपये hai.\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412980.093902\",\n        \"node\": \"pricing\"\n      }\n    },\n    {\n      \"content\": \"ढो इसकी फाइव बॉटल्स कन्फर्म कर दो।\",\n      \"role\": \"user\",\n      \"metadata\": {\n        \"timestamp\": \"1755412991.004748\"\n      }\n    },\n    {\n      \"content\": \"Five cases Limca two liters confirm kar diya. Kuch aur add karna hai?\",\n      \"role\": \"assistant\",\n      \"metadata\": {\n        \"timestamp\": \"1755412991.004748\",\n        \"node\": \"place_order\"\n      }\n    }\n  ],\n  \"agent_info\": {\n    \"tenant\": \"kbpldemo\",\n    \"agent_name\": \"csv\",\n    \"run_id\": \"RM_nsQPzRzNXDrk\",\n    \"last_node\": \"place_order\"\n  }\n}"
      },
      "reference_output": {
        "Output": "Five bottles Limca two liters confirm kar diya. Kuch aur add karna hai?"
      },
      "output": "Nahi sir, bas itna hi?",
      "error": null,
      "latency_ms": 1379.807,
      "start_time": "2025-10-06T10:06:25.432663+00:00",
      "end_time": "2025-10-06T10:06:26.812470+00:00",
      "trace_id": "6d506b24d5669fbf91ad227e7447dfc4",
      "prompt_token_count": null,
      "completion_token_count": null,
      "annotations": [
        {
          "name": "scenario_evaluator",
          "annotator_kind": "CODE",
          "label": "FAIL",
          "score": 0.0,
          "explanation": "The final output 'Nahi sir, bas itna hi?' does not contain the same information as the expected output 'Five bottles Limca two liters confirm kar diya. Kuch aur add karna hai?'. The expected output confirms an order of 'Five bottles Limca two liters' and asks if more needs to be added. The final output seems to be a response to a question rather than a confirmation of an order and does not address the same intent or contain the same key information. It appears to be a different part of a conversation rather than an equivalent statement.",
          "trace_id": "347dd987cdb2ce383476759c0453e280",
          "error": null,
          "metadata": {},
          "start_time": "2025-10-06T10:06:28.866025+00:00",
          "end_time": "2025-10-06T10:06:29.330187+00:00"
        }
      ]
    }
  ]
}
```
